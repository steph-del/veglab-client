<div class="identification-inline-wrapper">
  <ul class="identification-element" *ngIf="myIdentifications.length === 0 && otherIdentifications.length === 0">
    <li>
      <span class="label">
        <span class="level" *ngIf="_element.level && _element.level === 'synusy'">σ</span>
        <span class="level" *ngIf="_element.level && _element.level === 'microcenosis'">µC</span>
        <span class="level" *ngIf="_element.level && _element.level === 'phytocenosis'">φ</span>
        <span class="layer" *ngIf="_element.layer && _element.layer !== null">{{ _element.layer }}</span>
        <span class="text no-identification">Aucune identification</span>
      </span>
    </li>
  </ul>

  <ul class="identification-element" *ngIf="myIdentifications.length > 0">
    <li class="my-identification" *ngFor="let myIdentification of myIdentifications">
      <span class="label">
        <span class="text user-icon">
          <mat-icon class="mine" inline="true" matTooltip="Cette identification est la vôtre">account_circle</mat-icon>
        </span>
        <span class="level" *ngIf="_element.level && _element.level === 'synusy'">σ</span>
        <span class="level" *ngIf="_element.level && _element.level === 'microcenosis'">µC</span>
        <span class="level" *ngIf="_element.level && _element.level === 'phytocenosis'">φ</span>
        <span class="layer" *ngIf="_element.layer && _element.layer !== null">{{ _element.layer }}</span>
        <span class="text" [class.delete-icon]="allowDelete">
          <span>[{{ myIdentification.repository }}] {{ myIdentification.validatedName }}</span>
          <span class="delete-icon" *ngIf="allowDelete">
            <mat-icon inline="true" matTooltip="Supprimer cette identification" (click)="deleteElement(myIdentification)">delete</mat-icon>
          </span>
        </span>
      </span>
      <!--<mat-icon *ngIf="!showAllIdentifications" [class.disabled]="otherIdentifications.length === 0" (click)="toggleShowAllIdentifications()">keyboard_arrow_up</mat-icon>
      <mat-icon *ngIf="showAllIdentifications" (click)="toggleShowAllIdentifications()">keyboard_arrow_down</mat-icon>-->
    </li>
    <li class="showHideOtherIdentifications" *ngIf="!showAllIdentifications && otherIdentifications.length > 0" (click)="showAllIdentifications = !showAllIdentifications">
      <span class="text" *ngIf="otherIdentifications.length === 1">Afficher 1 autre identification</span>
      <span class="text" *ngIf="otherIdentifications.length > 1">Afficher {{ otherIdentifications.length }} autres identifications</span>
    </li>
    <li class="showHideOtherIdentifications" *ngIf="showAllIdentifications && otherIdentifications.length > 0" (click)="showAllIdentifications = !showAllIdentifications">
      <span class="text" *ngIf="otherIdentifications.length === 1">Masquer  1 autre identification</span>
      <span class="text" *ngIf="otherIdentifications.length > 1">Masquer {{ otherIdentifications.length }} autres identifications</span>
    </li>
    <div *ngIf="showAllIdentifications">
      <li class="other-identification" *ngFor="let identification of otherIdentifications">
        <span class="label">
          <span class="text user-icon" *ngIf="identification.owner !== null">
            <mat-icon inline="true" matTooltip="Identifié par '{{ identification.owner.username }}'">account_circle</mat-icon>
          </span>
          <span class="level" *ngIf="_element.level && _element.level === 'synusy'">σ</span>
          <span class="level" *ngIf="_element.level && _element.level === 'microcenosis'">µC</span>
          <span class="level" *ngIf="_element.level && _element.level === 'phytocenosis'">φ</span>
          <span class="layer" *ngIf="_element.layer && _element.layer !== null">{{ _element.layer }}</span>
          <span class="text">[{{ identification.repository }}] {{ identification.validatedName }}</span>
        </span>
      </li>
    </div>
  </ul>

  <ul class="identification-element" *ngIf="myIdentifications.length === 0">
    <li *ngIf="otherIdentifications.length > 0">
      <span class="label">
        <span class="text user-icon" *ngIf="otherIdentifications[0].owner !== null">
          <mat-icon inline="true" matTooltip="Identifié par '{{ otherIdentifications[0].owner.username }}'">account_circle</mat-icon>
        </span>
        <span class="level" *ngIf="_element.level && _element.level === 'synusy'">σ</span>
        <span class="level" *ngIf="_element.level && _element.level === 'microcenosis'">µC</span>
        <span class="level" *ngIf="_element.level && _element.level === 'phytocenosis'">φ</span>
        <span class="layer" *ngIf="_element.layer && _element.layer !== null">{{ _element.layer }}</span>
        <span class="text">[{{ otherIdentifications[0].repository }}] {{ otherIdentifications[0].validatedName }}</span>
      </span>
      <!--<mat-icon *ngIf="!showAllIdentifications" [class.disabled]="otherIdentifications.length === 1" (click)="toggleShowAllIdentifications()">keyboard_arrow_up</mat-icon>
      <mat-icon *ngIf="showAllIdentifications" (click)="toggleShowAllIdentifications()">keyboard_arrow_down</mat-icon>-->
    </li>
    <li class="showHideOtherIdentifications" *ngIf="!showAllIdentifications && otherIdentifications.length > 1" (click)="showAllIdentifications = !showAllIdentifications">
      <span class="text" *ngIf="otherIdentifications.length - 1 === 1">Afficher 1 autre identification</span>
      <span class="text" *ngIf="otherIdentifications.length - 1 > 1">Afficher {{ otherIdentifications.length - 1 }} autres identifications</span>
    </li>
    <li class="showHideOtherIdentifications" *ngIf="showAllIdentifications && otherIdentifications.length > 1" (click)="showAllIdentifications = !showAllIdentifications">
      <span class="text" *ngIf="otherIdentifications.length - 1 === 1">Masquer 1 autre identification</span>
      <span class="text" *ngIf="otherIdentifications.length - 1 > 1">Masquer {{ otherIdentifications.length - 1 }} autres identifications</span>
    </li>
    <div *ngIf="showAllIdentifications">
      <li class="other-identification" *ngFor="let identification of otherIdentifications | slice:1">
        <span class="label">
          <span class="text user-icon" *ngIf="identification.user !== null">
            <mat-icon inline="true" matTooltip="Identifié par '{{ identification.user.username }}'">account_circle</mat-icon>
          </span>
          <span class="level" *ngIf="_element.level && _element.level === 'synusy'">σ</span>
          <span class="level" *ngIf="_element.level && _element.level === 'microcenosis'">µC</span>
          <span class="level" *ngIf="_element.level && _element.level === 'phytocenosis'">φ</span>
          <span class="layer" *ngIf="_element.layer && _element.layer !== null">{{ _element.layer }}</span>
          <span class="text">[{{ identification.repository }}] {{ identification.validatedName }}</span>
        </span>
      </li>
    </div>
  </ul>

</div>
